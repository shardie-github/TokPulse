# Quick Start Guide

Get up and running with TokPulse in just a few minutes.

## Prerequisites

- Node.js 20 or higher
- pnpm 8 or higher
- A Shopify store (for testing)

## Installation

1. **Clone the repository**:
   ```bash
   git clone https://github.com/tokpulse/tokpulse.git
   cd tokpulse
   ```

2. **Install dependencies**:
   ```bash
   pnpm install
   ```

3. **Set up environment variables**:
   ```bash
   cp .env.example .env.local
   # Edit .env.local with your configuration
   ```

4. **Set up the database**:
   ```bash
   pnpm db:push
   pnpm db:seed
   ```

5. **Start the development server**:
   ```bash
   pnpm dev
   ```

## Basic Configuration

### 1. Connect Your Store

Visit the partner app at `http://localhost:3001` and connect your Shopify store:

```bash
# Navigate to the partner app
open http://localhost:3001
```

1. Click "Connect Store"
2. Enter your Shopify domain
3. Authorize the required permissions
4. Complete the setup

### 2. Install the Theme Extension

Add the TokPulse theme extension to your Shopify store:

```bash
# Install the theme extension
cd packages/theme-ext
pnpm install
pnpm build
```

### 3. Configure Hydrogen (Optional)

If you're using Hydrogen, add the TokPulse integration:

```bash
# Install the Hydrogen package
cd packages/tokpulse-hydrogen
pnpm install
```

Add to your Hydrogen app:

```tsx
import { TokPulseProvider } from '@tokpulse/tokpulse-hydrogen'

export default function App() {
  return (
    <TokPulseProvider
      orgId="your-org-id"
      storeId="your-store-id"
      apiKey="your-api-key"
    >
      {/* Your app content */}
    </TokPulseProvider>
  )
}
```

## First Experiment

Let's create your first A/B test:

### 1. Create an Experiment

```bash
curl -X POST http://localhost:3001/api/experiments \
  -H "Content-Type: application/json" \
  -H "X-Org-ID: your-org-id" \
  -d '{
    "key": "button_color_test",
    "name": "Button Color Test",
    "description": "Test different button colors for CTA",
    "allocation": 100,
    "variants": [
      {
        "key": "control",
        "name": "Control",
        "weight": 50,
        "configJson": "{\"color\": \"blue\"}"
      },
      {
        "key": "treatment",
        "name": "Treatment",
        "weight": 50,
        "configJson": "{\"color\": \"green\"}"
      }
    ]
  }'
```

### 2. Start the Experiment

```bash
curl -X POST http://localhost:3001/api/experiments/exp_123/start \
  -H "X-Org-ID: your-org-id"
```

### 3. Use in Your Theme

Add the experiment to your theme:

```liquid
{% comment %} In your theme template {% endcomment %}
<script>
  // Initialize experiments
  window.TokPulseExperiments = {
    orgId: 'your-org-id',
    storeId: '{{ shop.id }}',
    subjectKey: '{{ customer.id | default: session.id }}'
  };
</script>

<div id="cta-button">
  <script>
    // Get experiment assignment
    TokPulseExperiments.getExperimentConfig('button_color_test', 'theme')
      .then(config => {
        const button = document.getElementById('cta-button');
        if (config && config.color) {
          button.style.backgroundColor = config.color;
        }
      });
  </script>
  <button>Add to Cart</button>
</div>
```

## Monitoring

### View Metrics

Visit the telemetry dashboard at `http://localhost:9090` (Prometheus) or `http://localhost:3000` (Grafana) to see:

- Experiment assignments
- Widget performance
- API health
- Error rates

### Check Logs

```bash
# View application logs
tail -f logs/app.log | jq .

# View experiment logs
grep "experiment" logs/app.log | jq .
```

## Next Steps

- [Learn about experiments](/experiments/creating)
- [Set up integrations](/integrations/shopify)
- [Configure observability](/observability/telemetry)
- [Read the API reference](/api/authentication)

## Troubleshooting

### Common Issues

**Store connection fails**:
- Check your Shopify domain format
- Verify API credentials
- Ensure required permissions are granted

**Experiments not working**:
- Check experiment status (must be RUNNING)
- Verify subject key is being passed correctly
- Check browser console for errors

**Metrics not appearing**:
- Ensure Prometheus is running
- Check `/internal/metrics` endpoint
- Verify experiment assignments are being recorded

### Getting Help

- Check the [troubleshooting guide](/troubleshooting)
- Join our [Discord community](https://discord.gg/tokpulse)
- Open an issue on [GitHub](https://github.com/tokpulse/tokpulse/issues)